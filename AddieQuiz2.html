<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Addie's Quiz</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        const students = [
            { id: "1", score: "80" },
            { id: "2", score: "65" },
            { id: "3", score: "70" },
            { id: "4", score: "62" },
            { id: "5", score: "100" },
            { id: "6", score: "92" },
            { id: "7", score: "67" },
            { id: "8", score: "78" },
        ];

        let gold =0;
        let silver= 0;
        let bronze = 0;
        let effort = 0;

        //award 함수 선언!!
        const award = (students) => {
            const award_include = students.filter(object => {
                return Number(object.id) <= 6;
                    }
                );
                for (let i = 0; i < students.length; i++) {
                    if (students[i].score >= 90){
                        students[i].medal = "금메달"
                        gold++
                    } else if (students[i].score >= 80 && students[i].score < 90){
                        students[i].medal = "은메달"
                        silver++
                    } else if (students[i].score >= 70 && students[i].score < 80){
                        students[i].medal = "동메달"
                        bronze++
                    } else if (students[i].score < 70){
                        students[i].medal = "성실상"
                        effort++
                    }
                };
            return result = (gold, silver, bronze, students);
        };
        //award 함수 선언!!
        award(students);
        console.log(result)
        
        function result(){
        $('#result').empty()
        let result = ("금메달 수상 인원:"+gold+"명"+" / "+"은메달 수상 인원:"+silver+"명"+" / "+"동메달 수상 인원:"+bronze+"명");
        let temp_html =`<div>${result}</div>`
        $('#result').append(temp_html)
        }      
    </script>
       <style>
        table{
            border: 3px solid black;
            border-collapse: collapse;
            text-align: center;
            padding: 5px;
            margin-bottom: 15px;
        }

        th{
            border: 1px solid;
            padding: 3px 8px;
        }
        tr{
            border: 1x solid;
        }
        td{
            border: 1px solid;
        }

    </style> 
</head>
<body>
    <h2> 
        애디와 퀴즈풀이
    </h2>
    <h4> 
        <p>Quiz 2. 여러개의 학생 정보중에, 90점 이상인 학생들은 ‘금메달', 80점 이상인 학생들은 ‘은메달', </p>
        <p>70점 이상인 학생들은 ‘동메달' 그리고 나머지 학생들은 ‘성실상'을 주려고합니다. 이 행동을 award라는 함수를 사용해 구현해보세요!</p>
    </h4>
    <div>조건: 금메달, 은메달, 동메달을 각각 몇명정도가 수상했는지도 알고 싶습니다. 학생 아이디가 7이상인 학생들은 수상에서 제외합니다.</div>
    <br></br>
    <table>
        <tr>
            <th>ID</th>
            <th>Score</th>
            <th>Medal</th>
        </tr>
        <tbody id ="table1">
        </tbody>
        </table>

    <script>
        buildTable(students)
        function buildTable(data) {
            var table = document.getElementById('table1')

            for (var i=0; i < data.length; i++)
            {
                var row = `<tr>
                            <td>${data[i].id}</td>
                            <td>${data[i].score}</td>
                            <td>${data[i].medal}</td>
                        </tr>`
                table.innerHTML += row
            }
        }
    </script>

    <div id="result"></div>
    <button onclick="result()">Award!</button>
    <br></br>
    <button onclick="location.href='AddieQuiz1.html'">이전 문제</button>
    <button onclick="location.href='AddieQuiz3.html'">다음 문제</button>
</body>
</html>